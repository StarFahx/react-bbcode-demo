(this["webpackJsonpbbcode-demo"]=this["webpackJsonpbbcode-demo"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){e.exports=n(21)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(10),i=n.n(l),c=(n(17),n(8));n(18);function o(){return r.a.createElement("ul",{className:"Bar"},r.a.createElement("li",null,r.a.createElement("span",{className:"text"},"BBCode Demo")),r.a.createElement("li",{className:"right"},r.a.createElement("a",{href:"https://github.com/StarFahx/react-bbcode-demo/",className:"text"},"Source Code")))}n(19);function u(e){var t=Object(a.useState)(""),n=Object(c.a)(t,2),l=n[0],i=n[1],o=Object(a.createRef)();function u(e,t){var n=o.current.selectionStart,a=o.current.selectionEnd;console.log(n,a);var r=l.substring(n,a),c=l.substring(0,n)+"[".concat(e).concat(t?'=""':"","]")+r+"[/".concat(e,"]")+l.substring(a);i(c),o.current.focus(),o.current.setSelectionRange(a+3,a+3)}return r.a.createElement("div",{className:"bbeditor-container"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("div",{className:"bbeditor-iconbutton",onClick:function(){return u("b")}},r.a.createElement("b",null,"b"))),r.a.createElement("li",null,r.a.createElement("div",{className:"bbeditor-iconbutton",onClick:function(){return u("i")}},r.a.createElement("i",null,"i"))),r.a.createElement("li",null,r.a.createElement("div",{className:"bbeditor-iconbutton",onClick:function(){return u("u")}},r.a.createElement("u",null,"u"))),r.a.createElement("li",null,r.a.createElement("div",{className:"bbeditor-iconbutton",onClick:function(){return u("s")}},r.a.createElement("s",null,"s"))),r.a.createElement("li",null,r.a.createElement("div",{className:"bbeditor-iconbutton double",onClick:function(){return u("color",!0)}},"color")),r.a.createElement("li",null,r.a.createElement("div",{className:"bbeditor-iconbutton double last",onClick:function(){return u("font",!0)}},"font"))),r.a.createElement("textarea",{ref:o,value:l,onChange:function(e){return i(e.target.value)}}),e.displayShown||l?r.a.createElement("div",{className:"bbeditor-buttons"},r.a.createElement("button",{className:"bbeditor-preview",onClick:function(){return e.setDisplayText(l)}},l.length?"Preview":"Reset")):r.a.createElement(r.a.Fragment,null))}var s=n(11),h=n(5),f=n(4),v=n(3),d=n(2),m=n(1),b=function e(){Object(m.a)(this,e),this.bold=!1,this.color="",this.font="",this.italic=!1,this.text="",this.strike=!1,this.underline=!1},g=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(m.a)(this,e),this.bold=!1,this.color="",this.fontFamily="",this.italic=!1,this.strike=!1,this.underline=!1;for(var n=0;n<t.length;n++)t[n].updateStyle(this)},y=function e(t,n,a){Object(m.a)(this,e),this.parent=void 0,this.children=void 0,this.closeTags=void 0,this.parentParagraph=void 0,this.children=[],this.parent=t,this.closeTags=n,this.parentParagraph=a},p=function(e){Object(v.a)(n,e);var t=Object(d.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return n}(y),w=function(e){Object(v.a)(n,e);var t=Object(d.a)(n);function n(e,a){var r;return Object(m.a)(this,n),(r=t.call(this,e,[],e.parentParagraph)).text=void 0,r.text=a,r}return Object(f.a)(n,[{key:"toReact",value:function(){return r.a.createElement(r.a.Fragment,null,this.text)}},{key:"getNewTag",value:function(e,t){return new n(e,t.text)}}]),n}(y),j=function(e){Object(v.a)(n,e);var t=Object(d.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(m.a)(this,n);var a=null;return e instanceof y&&(a=e.parentParagraph),t.call(this,e,["/b"],a)}return Object(f.a)(n,[{key:"toReact",value:function(){return r.a.createElement("b",null,this.children.map((function(e){return e.toReact()})))}},{key:"getNewStyleTag",value:function(e){return new n(e)}},{key:"getNewTag",value:function(e,t){return new n(e)}},{key:"updateStyle",value:function(e){e.bold=!0}}]),n}(p),O=function(e){Object(v.a)(n,e);var t=Object(d.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(m.a)(this,n);var a=null;return e instanceof y&&(a=e.parentParagraph),t.call(this,e,["/i"],a)}return Object(f.a)(n,[{key:"toReact",value:function(){return r.a.createElement("i",null,this.children.map((function(e){return e.toReact()})))}},{key:"getNewStyleTag",value:function(e){return new n(e)}},{key:"getNewTag",value:function(e,t){return new n(e)}},{key:"updateStyle",value:function(e){e.italic=!0}}]),n}(p),E=function(e){Object(v.a)(n,e);var t=Object(d.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(m.a)(this,n);var a=null;return e instanceof y&&(a=e.parentParagraph),t.call(this,e,["/u"],a)}return Object(f.a)(n,[{key:"toReact",value:function(){return r.a.createElement("u",null,this.children.map((function(e){return e.toReact()})))}},{key:"getNewStyleTag",value:function(e){return new n(e)}},{key:"getNewTag",value:function(e,t){return new n(e)}},{key:"updateStyle",value:function(e){e.underline=!0}}]),n}(p),k=function(e){Object(v.a)(n,e);var t=Object(d.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(m.a)(this,n);var a=null;return e instanceof y&&(a=e.parentParagraph),t.call(this,e,["/s"],a)}return Object(f.a)(n,[{key:"toReact",value:function(){return r.a.createElement("s",null,this.children.map((function(e){return e.toReact()})))}},{key:"getNewStyleTag",value:function(e){return new n(e)}},{key:"getNewTag",value:function(e,t){return new n(e)}},{key:"updateStyle",value:function(e){e.strike=!0}}]),n}(p),N=function(e){Object(v.a)(n,e);var t=Object(d.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new b;Object(m.a)(this,n);var l=null;return a instanceof y&&(l=a.parentParagraph),(e=t.call(this,a,["/color"],l)).color=void 0,e.color=r.color,e}return Object(f.a)(n,[{key:"toReact",value:function(){var e,t;return(null===(e=this.parentParagraph)||void 0===e||null===(t=e.style)||void 0===t?void 0:t.color)===this.color?r.a.createElement(r.a.Fragment,null,this.children.map((function(e){return e.toReact()}))):r.a.createElement("span",{style:{color:this.color}},this.children.map((function(e){return e.toReact()})))}},{key:"getNewStyleTag",value:function(e){var t=new b;return t.color=this.color,new n(e,t)}},{key:"getNewTag",value:function(e,t){return new n(e,t)}},{key:"updateStyle",value:function(e){e.color=this.color}}]),n}(p),S=function(e){Object(v.a)(n,e);var t=Object(d.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new b;Object(m.a)(this,n);var l=null;return a instanceof y&&(l=a.parentParagraph),(e=t.call(this,a,["/font"],l)).fontFamily=void 0,e.fontFamily=r.font,e}return Object(f.a)(n,[{key:"toReact",value:function(){var e,t;return(null===(e=this.parentParagraph)||void 0===e||null===(t=e.style)||void 0===t?void 0:t.fontFamily)===this.fontFamily?r.a.createElement(r.a.Fragment,null,this.children.map((function(e){return e.toReact()}))):r.a.createElement("span",{style:{fontFamily:this.fontFamily}},this.children.map((function(e){return e.toReact()})))}},{key:"getNewStyleTag",value:function(e){var t=new b;return t.font=this.fontFamily,new n(e,t)}},{key:"getNewTag",value:function(e,t){return new n(e,t)}},{key:"updateStyle",value:function(e){e.fontFamily=this.fontFamily}}]),n}(p),T=function e(){Object(m.a)(this,e),this.fontFamily="",this.color=""},R=function(e){Object(v.a)(n,e);var t=Object(d.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];function r(e,t){e.start.children.push(t),e.start=t}Object(m.a)(this,n),(e=t.call(this,null,["/p"],null)).start=void 0,e.style=void 0,e.nextStyleTags=void 0,e.start=Object(h.a)(e),e.style=new g(a),e.nextStyleTags=Object(s.a)(a),e.parentParagraph=Object(h.a)(e);for(var l=0;l<a.length;l++){var i=a[l].getNewStyleTag(e.start);r(Object(h.a)(e),i)}return e}return Object(f.a)(n,[{key:"getStyle",value:function(){var e,t,n=new T;return(null===(e=this.style)||void 0===e?void 0:e.color)&&(n.color=this.style.color),(null===(t=this.style)||void 0===t?void 0:t.fontFamily)&&(n.fontFamily=this.style.fontFamily),n}},{key:"getNewTag",value:function(e,t){return new n}},{key:"toReact",value:function(){return r.a.createElement("p",{style:this.getStyle()},this.children.map((function(e){return e.toReact()})))}}]),n}(y),x=/^\s*$/,F=/\[|\]/g,P=/(\[\/?.+?\])/;function C(e){var t={};function n(e,n){if(e){var a=e.trim();a.length&&0!==a.toLowerCase().indexOf("on")&&(t[a.replace(F,"")]=n.replace(F,""))}}if(e){var a=[],r=a,l=[],i=" ",c=!1;Array.from(e).forEach((function(e){c?c=!1:r===a&&"="===e||r===a&&":"===e?r=l:l.length||'"'!==e?e!==i?r.push(e):(n(a.join(""),l.join("")),x.test(i)||(c=!0),r=a=[],l=[],i=" "):i=e})),n(a.join(""),l.join(""))}return t}var B={b:new j,i:new O,s:new k,u:new E,color:new N,font:new S};n(20);function D(e){return r.a.createElement("div",{className:"chapter-display"},r.a.createElement("h1",null,e.title),r.a.createElement("hr",null),function(e){var t=(e=e.replace(/\n\n(\n*)/g,"[/p]$1")).split(P),n=[],a=new R;n.push(a);for(var r=a,l=0;l<t.length;l++){var i=t[l];if(i.length)if(i.match(P)){var c=C(i),o=Object.keys(c)[0],u=r.nextStyleTags;if(a.closeTags.indexOf(o)>=0)if(a!==r)u[r.nextStyleTags.length-1].closeTags.indexOf(o)>=0&&u.pop(),a=a.parent;else{var s=new R(u);n.push(s),r=s,a=s.start}else if(r.closeTags.indexOf(o)>=0){var h=new R(u);n.push(h),r=h,a=h.start}else if(o in B){var f=B[o].getNewTag(a,c);r.style=f.style,a.children.push(f),f instanceof p&&u.push(f),a=f}else a.children.push(new w(a,i))}else a.children.push(new w(a,i))}return console.log(n),n.map((function(e){return e.toReact()}))}(e.body))}var $=function(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),n=t[0],l=t[1];return r.a.createElement("div",null,r.a.createElement(o,null),r.a.createElement(u,{setDisplayText:l,displayShown:n}),n?r.a.createElement(D,{title:"Preview",body:n}):r.a.createElement(r.a.Fragment,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.577668f3.chunk.js.map