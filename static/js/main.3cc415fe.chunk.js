(this["webpackJsonpbbcode-demo"]=this["webpackJsonpbbcode-demo"]||[]).push([[0],{18:function(e,t,n){e.exports=n(39)},23:function(e,t,n){},24:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(11),c=n.n(r),i=(n(23),n(5));n(24);function o(){return l.a.createElement("ul",{className:"Bar"},l.a.createElement("li",null,l.a.createElement("span",{className:"text"},"BBCode Demo")),l.a.createElement("li",{className:"right"},l.a.createElement("a",{href:"https://github.com/StarFahx/react-bbcode-demo/",className:"text"},"Source Code")))}var u=n(9),s=n(12),h=n.n(s);n(36),n(37);function f(e){var t=Object(a.useState)({display:"",open:"",close:""}),n=Object(i.a)(t,2),r=n[0],c=n[1];function o(e){c(Object.assign({},r,e))}return l.a.createElement(h.a,{isOpen:e.showPopup,contentLabel:"Add Custom Tag",onRequestClose:function(){return e.setShowPopup(!1)},shouldCloseOnOverlayClick:!0,className:"modal"},l.a.createElement("div",{className:"modal-close",onClick:function(){return e.setShowPopup(!1)}},"x"),l.a.createElement("h1",null,"Add Custom Tag"),l.a.createElement("div",{className:"modal-input"},l.a.createElement("label",null,"Display Name"),l.a.createElement("input",{type:"text",onChange:function(e){return o({display:e.target.value})}})),l.a.createElement("div",{className:"modal-input"},l.a.createElement("label",null,"Open Tag"),l.a.createElement("input",{type:"text",onChange:function(e){return o({open:e.target.value})}})),l.a.createElement("div",{className:"modal-input"},l.a.createElement("label",null,"Close Tag"),l.a.createElement("input",{type:"text",onChange:function(e){return o({close:e.target.value})}})),l.a.createElement("button",{onClick:function(){r.display&&e.addTag(r)}},"Add"))}function v(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!1),s=Object(i.a)(o,2),h=s[0],v=s[1],m=Object(a.useState)([{display:"CG",open:'[font="Courier New"][color=#626262][b]CG: ',close:"[/b][/color][/font]"}]),d=Object(i.a)(m,2),b=d[0],p=d[1],g=Object(a.createRef)();function y(e){var t=g.current.selectionStart,n=g.current.selectionEnd,a=r.substring(t,n),l=r.substring(0,t)+e.open+a+e.close+r.substring(n);c(l),g.current.focus(),g.current.setSelectionRange(n+3,n+3)}function w(e,t){y({open:"["+e+(t?'=""]':"]"),close:"[/"+e+"]"})}return l.a.createElement("div",{className:"bbeditor-container"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("div",{className:"bbeditor-iconbutton",onClick:function(){return w("b")}},l.a.createElement("b",null,"b"))),l.a.createElement("li",null,l.a.createElement("div",{className:"bbeditor-iconbutton",onClick:function(){return w("i")}},l.a.createElement("i",null,"i"))),l.a.createElement("li",null,l.a.createElement("div",{className:"bbeditor-iconbutton",onClick:function(){return w("u")}},l.a.createElement("u",null,"u"))),l.a.createElement("li",null,l.a.createElement("div",{className:"bbeditor-iconbutton",onClick:function(){return w("s")}},l.a.createElement("s",null,"s"))),l.a.createElement("li",null,l.a.createElement("div",{className:"bbeditor-iconbutton double",onClick:function(){return w("color",!0)}},"color")),l.a.createElement("li",null,l.a.createElement("div",{className:"bbeditor-iconbutton double last",onClick:function(){return w("font",!0)}},"font")),l.a.createElement("li",{className:"right"},l.a.createElement("div",{className:"bbeditor-iconbutton last",onClick:function(){return v(!0)}},"+")),b.map((function(e){return l.a.createElement("li",{className:"right"},l.a.createElement("div",{className:"bbeditor-iconbutton double",onClick:function(){return y(e)}},e.display))}))),l.a.createElement(f,{showPopup:h,setShowPopup:v,addTag:function(e){return function(e){var t=Object(u.a)(b);t.push(e),p(t),v(!1)}(e)}}),l.a.createElement("textarea",{ref:g,value:r,onChange:function(e){return c(e.target.value)}}),e.displayShown||r?l.a.createElement("div",{className:"bbeditor-buttons"},l.a.createElement("button",{className:"bbeditor-preview",onClick:function(){return e.setDisplayText(r)}},r.length?"Preview":"Reset")):l.a.createElement(l.a.Fragment,null))}var m=n(6),d=n(4),b=n(3),p=n(2),g=n(1),y=function e(){Object(g.a)(this,e),this.bold=!1,this.color="",this.font="",this.italic=!1,this.text="",this.strike=!1,this.underline=!1},w=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(g.a)(this,e),this.bold=!1,this.color="",this.fontFamily="",this.italic=!1,this.strike=!1,this.underline=!1;for(var n=0;n<t.length;n++)t[n].updateStyle(this)},E=function e(t,n,a){Object(g.a)(this,e),this.parent=void 0,this.children=void 0,this.closeTags=void 0,this.parentParagraph=void 0,this.selfClosing=!1,this.children=[],this.parent=t,this.closeTags=n,this.parentParagraph=a},O=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return n}(E),j=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e,a){var l;return Object(g.a)(this,n),(l=t.call(this,e,[],e.parentParagraph)).text=void 0,l.text=a,l.selfClosing=!0,l}return Object(d.a)(n,[{key:"toReact",value:function(){return l.a.createElement(l.a.Fragment,null,this.text)}},{key:"getNewTag",value:function(e,t){return new n(e,t.text)}}]),n}(E),k=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(g.a)(this,n);var l=null;return a instanceof E&&(l=a.parentParagraph),(e=t.call(this,a,[],l)).selfClosing=!0,e}return Object(d.a)(n,[{key:"toReact",value:function(){return l.a.createElement("br",null)}},{key:"getNewTag",value:function(e,t){return new n(e)}}]),n}(E),N=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(g.a)(this,n);var a=null;return e instanceof E&&(a=e.parentParagraph),t.call(this,e,["/b"],a)}return Object(d.a)(n,[{key:"toReact",value:function(){return l.a.createElement("b",null,this.children.map((function(e){return e.toReact()})))}},{key:"getNewStyleTag",value:function(e){return new n(e)}},{key:"getNewTag",value:function(e,t){return new n(e)}},{key:"updateStyle",value:function(e){e.bold=!0}}]),n}(O),S=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(g.a)(this,n);var a=null;return e instanceof E&&(a=e.parentParagraph),t.call(this,e,["/i"],a)}return Object(d.a)(n,[{key:"toReact",value:function(){return l.a.createElement("i",null,this.children.map((function(e){return e.toReact()})))}},{key:"getNewStyleTag",value:function(e){return new n(e)}},{key:"getNewTag",value:function(e,t){return new n(e)}},{key:"updateStyle",value:function(e){e.italic=!0}}]),n}(O),T=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(g.a)(this,n);var a=null;return e instanceof E&&(a=e.parentParagraph),t.call(this,e,["/u"],a)}return Object(d.a)(n,[{key:"toReact",value:function(){return l.a.createElement("u",null,this.children.map((function(e){return e.toReact()})))}},{key:"getNewStyleTag",value:function(e){return new n(e)}},{key:"getNewTag",value:function(e,t){return new n(e)}},{key:"updateStyle",value:function(e){e.underline=!0}}]),n}(O),C=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(g.a)(this,n);var a=null;return e instanceof E&&(a=e.parentParagraph),t.call(this,e,["/s"],a)}return Object(d.a)(n,[{key:"toReact",value:function(){return l.a.createElement("s",null,this.children.map((function(e){return e.toReact()})))}},{key:"getNewStyleTag",value:function(e){return new n(e)}},{key:"getNewTag",value:function(e,t){return new n(e)}},{key:"updateStyle",value:function(e){e.strike=!0}}]),n}(O),x=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new y;Object(g.a)(this,n);var r=null;return a instanceof E&&(r=a.parentParagraph),(e=t.call(this,a,["/color"],r)).color=void 0,e.color=l.color,e}return Object(d.a)(n,[{key:"toReact",value:function(){var e,t;return(null===(e=this.parentParagraph)||void 0===e||null===(t=e.style)||void 0===t?void 0:t.color)===this.color?l.a.createElement(l.a.Fragment,null,this.children.map((function(e){return e.toReact()}))):l.a.createElement("span",{style:{color:this.color}},this.children.map((function(e){return e.toReact()})))}},{key:"getNewStyleTag",value:function(e){var t=new y;return t.color=this.color,new n(e,t)}},{key:"getNewTag",value:function(e,t){return new n(e,t)}},{key:"updateStyle",value:function(e){e.color=this.color}}]),n}(O),R=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new y;Object(g.a)(this,n);var r=null;return a instanceof E&&(r=a.parentParagraph),(e=t.call(this,a,["/font"],r)).fontFamily=void 0,e.fontFamily=l.font,e}return Object(d.a)(n,[{key:"toReact",value:function(){var e,t;return(null===(e=this.parentParagraph)||void 0===e||null===(t=e.style)||void 0===t?void 0:t.fontFamily)===this.fontFamily?l.a.createElement(l.a.Fragment,null,this.children.map((function(e){return e.toReact()}))):l.a.createElement("span",{style:{fontFamily:this.fontFamily}},this.children.map((function(e){return e.toReact()})))}},{key:"getNewStyleTag",value:function(e){var t=new y;return t.font=this.fontFamily,new n(e,t)}},{key:"getNewTag",value:function(e,t){return new n(e,t)}},{key:"updateStyle",value:function(e){e.fontFamily=this.fontFamily}}]),n}(O),F=function e(){Object(g.a)(this,e),this.fontFamily="",this.color=""},P=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];function l(e,t){e.start.children.push(t),e.start=t}Object(g.a)(this,n),(e=t.call(this,null,["/p"],null)).start=void 0,e.style=void 0,e.nextStyleTags=void 0,e.start=Object(m.a)(e),e.style=new w(a),e.nextStyleTags=Object(u.a)(a),e.parentParagraph=Object(m.a)(e);for(var r=0;r<a.length;r++){var c=a[r].getNewStyleTag(e.start);l(Object(m.a)(e),c)}return e}return Object(d.a)(n,[{key:"getStyle",value:function(){var e,t,n=new F;return(null===(e=this.style)||void 0===e?void 0:e.color)&&(n.color=this.style.color),(null===(t=this.style)||void 0===t?void 0:t.fontFamily)&&(n.fontFamily=this.style.fontFamily),n}},{key:"getNewTag",value:function(e,t){return new n}},{key:"toReact",value:function(){return l.a.createElement("p",{style:this.getStyle()},this.children.map((function(e){return e.toReact()})))}}]),n}(E),B=/^\s*$/,A=/\[|\]/g,D=/(\[\/?.+?\])/;function $(e){var t={};function n(e,n){if(e){var a=e.trim();a.length&&0!==a.toLowerCase().indexOf("on")&&(t[a.replace(A,"")]=n.replace(A,""))}}if(e){var a=[],l=a,r=[],c=" ",i=!1;Array.from(e).forEach((function(e){i?i=!1:l===a&&"="===e||l===a&&":"===e?l=r:r.length||'"'!==e?e!==c?l.push(e):(n(a.join(""),r.join("")),B.test(c)||(i=!0),l=a=[],r=[],c=" "):c=e})),n(a.join(""),r.join(""))}return t}var G={b:new N,i:new S,s:new C,u:new T,color:new x,font:new R,br:new k};n(38);function J(e){return l.a.createElement("div",{className:"chapter-display"},l.a.createElement("h1",null,e.title),l.a.createElement("hr",null),function(e){var t=(e=(e=e.replace(/\n\n(\n*)/g,"[/p]$1")).replace(/\n/g,"[br]")).split(D),n=[],a=new P;n.push(a);for(var l=a,r=0;r<t.length;r++){var c=t[r];if(c.length)if(c.match(D)){var i=$(c),o=Object.keys(i)[0],u=l.nextStyleTags;if(a.closeTags.indexOf(o)>=0)if(a!==l)u[l.nextStyleTags.length-1].closeTags.indexOf(o)>=0&&u.pop(),a=a.parent;else{var s=new P(u);n.push(s),l=s,a=s.start}else if(l.closeTags.indexOf(o)>=0){var h=new P(u);n.push(h),l=h,a=h.start}else if(o in G){var f=G[o].getNewTag(a,i);l.style=f.style,a.children.push(f),f instanceof O&&u.push(f),f.selfClosing||(a=f)}else a.children.push(new j(a,c))}else a.children.push(new j(a,c))}return n.map((function(e){return e.toReact()}))}(e.body))}var L=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1];return l.a.createElement("div",null,l.a.createElement(o,null),l.a.createElement(v,{setDisplayText:r,displayShown:n}),n?l.a.createElement(J,{title:"Preview",body:n}):l.a.createElement(l.a.Fragment,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.3cc415fe.chunk.js.map